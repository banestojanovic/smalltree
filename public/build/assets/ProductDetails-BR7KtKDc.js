import{j as t,r as E,U as Z}from"./app-Cg_q1It0.js";import{A as z}from"./AddToCartButton-Dp37eybg.js";import{P as D}from"./ProductPrice-D1Sc-tgg.js";import{u as G,B as $}from"./button-B6weGCtK.js";import{T as Q,a as U}from"./toggle-group-J8xr5957.js";import{T as N}from"./typography-DmGGpoMZ.js";import F from"./PhotoSlider-Dre6PxtO.js";import{m as p}from"./proxy-C2zdtulb.js";import{c as R}from"./createLucideIcon-COcmuwv5.js";import"./functions-CmB5x1OE.js";import"./utils-CytzSlOG.js";import"./index-K5D3zEDA.js";import"./index-DxlfS-l9.js";import"./chevron-right-DtD_S4vG.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=R("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=R("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var J=e=>{let s=e;for(;s=s.parentElement;){const l=getComputedStyle(s,null).getPropertyValue("overflow-y");if(s===document.body)return window;if(l==="auto"||l==="scroll"||l==="overlay")return s}return window},A=e=>e.firstChild?e.firstChild.offsetParent===e:!0,K=(e,s)=>{let l=e,r=0;A(s)||(r+=e.offsetTop-s.offsetTop,s=e.offsetParent,r+=-e.offsetTop);do r+=l.offsetTop,l=l.offsetParent;while(l&&l!==s);return r},X=e=>{let s=e.parentElement;for(;s&&getComputedStyle(s,null).getPropertyValue("display")==="contents";)s=s.parentElement;return s||window},I=null;typeof CSS<"u"&&CSS.supports&&(CSS.supports("position","sticky")?I="sticky":CSS.supports("position","-webkit-sticky")&&(I="-webkit-sticky"));var L=!1;try{const e=Object.defineProperty({},"passive",{get(){L={passive:!0}}}),s=()=>{};window.addEventListener("testPassive",s,e),window.removeEventListener("testPassive",s,e)}catch{}var B=e=>{const{el:s,onChange:l,unsubs:r,measure:n}=e;if(s===window){const c=()=>({top:0,left:0,height:window.innerHeight,width:window.innerWidth}),a=n(c()),x=()=>{Object.assign(a,n(c())),l()};return window.addEventListener("resize",x,L),r.push(()=>window.removeEventListener("resize",x)),a}else{const c=n(s.getBoundingClientRect()),a=()=>{Object.assign(c,n(s.getBoundingClientRect())),l()},x=new ResizeObserver(a);return x.observe(s),r.push(()=>x.disconnect()),c}},Y=e=>{const s=getComputedStyle(e,null),l=parseInt(s.getPropertyValue("padding-top"),10),r=parseInt(s.getPropertyValue("padding-bottom"),10);return{top:l,bottom:r}},ee=(e,s,l)=>{const{bottom:r,offsetBottom:n,offsetTop:c}=l,a=J(e);let x=!1;const V=()=>{x||requestAnimationFrame(()=>{const i=k();if(i!==C)P(i);else if(i===1&&!r){const{height:d}=u,{height:m}=f;e.style.top=`${d-m-n}px`}else if(i===2){const{height:d,offsetTop:m}=u,{height:v,naturalTop:g}=h,{height:T}=f,j=Math.max(0,m+y+d-(g+T+n));if(r){const H=Math.max(0,v-T-j);e.style.bottom=`${H}px`}else e.style.top=`${j}px`}x=!1}),x=!0};let y=a===window?window.scrollY:a.scrollTop;const S=i=>{const{offsetTop:d,height:m}=u,{naturalTop:v}=h,{height:g}=f;return i+d+m>=v+g+w+n},k=()=>{const{height:i}=u,{height:d}=f;return d+c+n<=i?3:S(y)?1:2},M=a!==window&&A(a),u=B({el:a,onChange:V,unsubs:s,measure:({height:i,top:d})=>({height:i,offsetTop:M?d:0})}),b=X(e),o=b===window?{top:0,bottom:0}:Y(b),h=B({el:b,onChange:V,unsubs:s,measure:({height:i})=>({height:i-o.top-o.bottom,naturalTop:b===window?0:K(b,a)+o.top+u.offsetTop})}),f=B({el:e,onChange:V,unsubs:s,measure:({height:i})=>({height:i})});let w=0,C=k();const P=i=>{const d=C;if(C=i,d===2&&(w=-1),i===3){e.style.position=I,r?e.style.bottom=`${n}px`:e.style.top=`${c}px`;return}const{height:m,offsetTop:v}=u,{height:g,naturalTop:T}=h,{height:j}=f;if(i===2)if(e.style.position="relative",w=d===0?Math.max(0,v+y-T+c):Math.max(0,v+y+m-(T+j+n)),r){const H=Math.max(0,g-j-w);e.style.bottom=`${H}px`}else e.style.top=`${w}px`;else e.style.position=I,i===1?r?e.style.bottom=`${n}px`:e.style.top=`${m-j-n}px`:r?e.style.bottom=`${m-j-n}px`:e.style.top=`${c}px`};P(C);const _=i=>{if(i===y)return;const d=i-y;if(y=i,C===3)return;const{offsetTop:m,height:v}=u,{naturalTop:g,height:T}=h,{height:j}=f;if(d>0)if(C===0){if(i+m+c>g){const H=Math.max(0,m+y-g+c);i+m+v<=g+j+H+n?P(2):P(1)}}else C===2&&S(i)&&P(1);else if(C===1){if(m+i+v<g+T+n){const H=Math.max(0,m+y+v-(g+j+n));m+i+c>=g+H?P(2):P(0)}}else C===2&&m+i+c<g+w&&P(0)},O=a===window?()=>_(window.scrollY):()=>_(a.scrollTop);a.addEventListener("scroll",O,L),a.addEventListener("mousewheel",O,L),s.push(()=>a.removeEventListener("scroll",O),()=>a.removeEventListener("mousewheel",O))},te=({offsetTop:e=0,offsetBottom:s=0,bottom:l=!1}={})=>{const[r,n]=E.useState(null);return E.useEffect(()=>{if(!r||!I)return;const c=[];return ee(r,c,{offsetBottom:s,offsetTop:e,bottom:l}),()=>{c.forEach(a=>a())}},[r,s,e,l]),n},se=e=>{const{offsetTop:s,offsetBottom:l,bottom:r,children:n,className:c,style:a}=e,x=te({offsetTop:s,offsetBottom:l,bottom:r});return t.jsx("div",{className:c,style:a,ref:x,children:n})},ie=se;const we=({product:e})=>{var x,V,y,S,k,M,u,b;const{t:s}=G(),[l,r]=E.useState(((S=(y=(V=(x=e==null?void 0:e.variations)==null?void 0:x[1])==null?void 0:V.variations)==null?void 0:y[0])==null?void 0:S.id.toString())??null),[n,c]=E.useState(1),a=(k=e==null?void 0:e.variations)==null?void 0:k.find(o=>{var h;return(h=o==null?void 0:o.variations)==null?void 0:h.some(f=>{var w;return((w=f==null?void 0:f.pivot)==null?void 0:w.variation_value_id)==l})});return t.jsx("section",{className:"container",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-6 lg:gap-12",children:[t.jsx("div",{children:t.jsx(ie,{offsetTop:80,children:t.jsx(F,{product:e})})}),t.jsxs("div",{className:"mt-7 lg:mt-0",children:[t.jsx(p.div,{className:"mb-2 flex flex-wrap items-center gap-x-3",initial:{y:-50},whileInView:{y:0},transition:{type:"spring",duration:.3},children:(M=e.categories)==null?void 0:M.map((o,h)=>h===0?t.jsx(Z,{href:route("categories.show",{category:o.slug}),className:"text-sm text-muted-foreground hover:text-foreground hover:underline",children:o.name},h):"")}),t.jsx(N,{as:"h2",className:"leading-tight sm:text-[40px]",children:t.jsx(p.div,{initial:{y:50},whileInView:{y:0},transition:{type:"spring",duration:.3},children:e.name})}),t.jsx(N,{as:"div",className:"mt-6 leading-normal sm:text-base",children:t.jsx(p.p,{initial:{y:50},whileInView:{y:0},transition:{type:"spring",duration:.4},children:e.description})}),t.jsx(N,{as:"div",className:"mt-6 font-bold sm:text-2xl",children:t.jsx(p.div,{initial:{y:50},whileInView:{y:0},transition:{type:"spring",duration:.6},children:t.jsx(D,{variant:"single",price:(a==null?void 0:a.price)??e.price??0,discountPrice:((u=a==null?void 0:a.discount)==null?void 0:u.price)??null})})}),(e==null?void 0:e.grouped_variations)&&t.jsx("div",{className:"mt-10",children:t.jsx(Q,{variant:"outline",type:"single",className:"justify-start",value:l??void 0,onValueChange:o=>r(o),children:Object.keys((e==null?void 0:e.grouped_variations)??{}).map(o=>t.jsx("div",{className:"flex flex-col flex-wrap space-y-1",children:t.jsx("div",{className:"flex gap-2",children:e==null?void 0:e.grouped_variations[o].map((h,f)=>t.jsx(p.div,{initial:{x:50},whileInView:{x:0},whileTap:{scale:.95},transition:{type:"spring",duration:(f+1)/3},children:t.jsx(U,{variant:"default",value:h.id.toString(),"aria-label":"Toggle bold",children:h.value})},h.id))})},o))})}),t.jsxs("div",{className:"mt-10 flex gap-2 md:gap-5 lg:items-center",children:[t.jsxs(p.div,{className:"flex items-center gap-3 md:gap-x-5",children:[t.jsx(p.div,{initial:{x:50},whileInView:{x:0},whileTap:{scale:n<=1?1:.95},transition:{type:"spring",duration:.2},children:t.jsx($,{type:"button",variant:"outlined-white",className:"h-11 px-3",disabled:n<=1,onClick:()=>{c(o=>o>1?o-1:o)},children:t.jsx(W,{})})}),t.jsx(p.span,{className:"text-2xl font-semibold",initial:{x:50},whileInView:{x:0},transition:{type:"spring",duration:.3},children:n}),t.jsx(p.div,{initial:{x:50},whileInView:{x:0},whileTap:{scale:n>=((e==null?void 0:e.stock)??99)?1:.95},transition:{type:"spring",duration:.4},children:t.jsx($,{type:"button",variant:"outlined-white",disabled:n>=((e==null?void 0:e.stock)??99),className:"h-11 px-3",onClick:()=>{c(o=>o+1)},children:t.jsx(q,{})})})]}),t.jsx(p.div,{initial:{x:50},whileInView:{x:0},transition:{type:"spring",duration:.5},children:t.jsx(z,{product:e,productVariantId:l,quantity:n,disabled:((b=Object.keys((e==null?void 0:e.variations)??[]))==null?void 0:b.length)>0&&!l,variant:"outlined-white",className:"flex h-11 items-center justify-center px-4 text-xs uppercase sm:text-base",iconClass:"!sm:size-5 shrink-0 fill-foreground",size:"lg",label:s("product.add_to_cart")})})]}),t.jsxs(N,{as:"p",className:"my-16 flex items-center gap-x-2",children:[t.jsx(p.span,{initial:{y:50},whileInView:{y:0},transition:{type:"spring",duration:.2},children:t.jsx("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8.9375 22.75C9.87403 22.7498 10.7819 23.0732 11.5074 23.6654C12.2329 24.2577 12.7314 25.0824 12.9187 26H24.375V9.75H6.5C5.63805 9.75 4.8114 10.0924 4.2019 10.7019C3.59241 11.3114 3.25 12.138 3.25 13V26H4.95625C5.14356 25.0824 5.64215 24.2577 6.36764 23.6654C7.09314 23.0732 8.00097 22.7498 8.9375 22.75ZM8.9375 30.875C8.00097 30.8752 7.09314 30.5518 6.36764 29.9596C5.64215 29.3673 5.14356 28.5426 4.95625 27.625H1.625V13C1.625 11.7071 2.13861 10.4671 3.05285 9.55285C3.96709 8.63861 5.20707 8.125 6.5 8.125H24.375C24.806 8.125 25.2193 8.29621 25.524 8.60095C25.8288 8.9057 26 9.31902 26 9.75V13H30.875L35.75 19.5V27.625H32.4188C32.2323 28.5434 31.734 29.369 31.0085 29.9621C30.2829 30.5551 29.3746 30.8791 28.4375 30.8791C27.5004 30.8791 26.5921 30.5551 25.8665 29.9621C25.141 29.369 24.6427 28.5434 24.4563 27.625H12.9187C12.7314 28.5426 12.2329 29.3673 11.5074 29.9596C10.7819 30.5518 9.87403 30.8752 8.9375 30.875ZM8.9375 24.375C8.29103 24.375 7.67105 24.6318 7.21393 25.0889C6.75681 25.546 6.5 26.166 6.5 26.8125C6.5 27.459 6.75681 28.079 7.21393 28.5361C7.67105 28.9932 8.29103 29.25 8.9375 29.25C9.58397 29.25 10.204 28.9932 10.6611 28.5361C11.1182 28.079 11.375 27.459 11.375 26.8125C11.375 26.166 11.1182 25.546 10.6611 25.0889C10.204 24.6318 9.58397 24.375 8.9375 24.375ZM28.4375 22.75C29.374 22.7498 30.2819 23.0732 31.0074 23.6654C31.7329 24.2577 32.2314 25.0824 32.4188 26H34.125V20.02L33.735 19.5H26V23.5625C26.6825 23.0588 27.5275 22.75 28.4375 22.75ZM28.4375 24.375C27.791 24.375 27.171 24.6318 26.7139 25.0889C26.2568 25.546 26 26.166 26 26.8125C26 27.459 26.2568 28.079 26.7139 28.5361C27.171 28.9932 27.791 29.25 28.4375 29.25C29.084 29.25 29.704 28.9932 30.1611 28.5361C30.6182 28.079 30.875 27.459 30.875 26.8125C30.875 26.166 30.6182 25.546 30.1611 25.0889C29.704 24.6318 29.084 24.375 28.4375 24.375ZM26 14.625V17.875H32.5L30.0625 14.625H26Z",fill:"black"})})}),t.jsxs(p.span,{initial:{y:50},whileInView:{y:0},transition:{type:"spring",duration:.3},children:[s("product.free_shipping_over")," 5,000rsd"]})]}),t.jsxs("div",{className:"col-span-full grid gap-4 rounded sm:gap-10",children:[Object.entries((e==null?void 0:e.grouped_attributes)||{}).map(([o,h])=>t.jsxs(p.div,{className:"flex w-full flex-col items-start border-b border-gray-300 pb-4 max-xxs:space-y-2 xxs:flex-row xxs:justify-between",initial:{y:50},whileInView:{y:0},transition:{type:"spring",duration:.2},children:[t.jsx(N,{as:"h3",className:"mt-0 text-lg sm:text-lg lg:text-2xl",children:o}),h.map(f=>{var w;return t.jsx(N,{as:"div",className:"mt-0 flex items-center gap-x-2",children:t.jsxs("div",{className:"flex items-center justify-end gap-x-2 self-end text-right max-sm:text-base",children:[t.jsx("span",{dangerouslySetInnerHTML:{__html:((w=f.attribute)==null?void 0:w.icon)??""}}),t.jsxs("span",{className:"w-full",children:[Array.isArray(f.value)?f.value.join(" | "):f.value," "]})]})},f.id)})]},o)),Object.entries((e==null?void 0:e.additional)||[]).map(([o,h])=>t.jsxs(p.div,{className:"flex w-full flex-col items-start border-b border-gray-300 pb-4 max-xxs:space-y-2 xxs:flex-row xxs:justify-between",initial:{y:50},whileInView:{y:0},transition:{type:"spring",duration:.3},children:[t.jsx(N,{as:"h3",className:"mt-0 text-lg sm:text-lg lg:text-2xl",children:o}),t.jsx(N,{as:"div",className:"mt-0 flex items-center gap-x-2",children:t.jsx("div",{className:"flex items-center justify-end gap-x-2 self-end text-right",children:t.jsxs("span",{className:"w-full",children:[h," "]})})})]},o))]})]})]})})};export{we as default};
