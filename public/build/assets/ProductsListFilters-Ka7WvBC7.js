import{r as p,a as D,j as e}from"./app-T28cklxt.js";import{C as m,a,D as w,b as N,c as C,S as R}from"./slider-DqtF_oSH.js";import{B as S}from"./badge-DY7yobzF.js";import{u as M,B as o}from"./button-DOb_CXen.js";import{S as k,a as B,b as F,c as V,d as O,e as T}from"./sheet-CC7e5Mii.js";import{c as $}from"./createLucideIcon-DfpL3qcJ.js";import"./index-Bm1AYYir.js";import"./index-CtVQ8A8N.js";import"./index-C5IDNYlH.js";import"./dialog-BLQdy1is.js";import"./x-D1tsAxy9.js";import"./index-BIf8SCWu.js";import"./index-CPqy-jj-.js";import"./chevron-right-hQY4edRW.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=$("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),b=({category:v,attributes:i,variations:d,query:t})=>{var u,f;const{t:h}=M(),[y,x]=p.useState(!1),{data:n,setData:r,get:L}=D({attributes:i.reduce((s,c)=>{var l;return s[c.slug]=((l=t.attributes)==null?void 0:l[c.slug])??null,s},{}),variations:d.reduce((s,c)=>{var l;return s[c.id]=((l=t.variations)==null?void 0:l[c.id])??null,s},{}),priceRange:t.priceRange??null}),g=s=>{r("priceRange",s),x(!1)},P=()=>{L(route("categories.show",v.slug),{preserveScroll:!0,preserveState:!0})},j=p.useRef(n);return p.useEffect(()=>{JSON.stringify(j.current)!==JSON.stringify(n)&&(P(),j.current=n)},[n]),e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"mt-10 hidden md:block",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"flex w-full flex-wrap items-center gap-7",children:[d.length>0&&d.map(s=>{var c;return e.jsx("div",{className:"",children:e.jsxs(m,{value:n.variations[s.id],onChange:l=>r("variations",{...n.variations,[s.id]:l}),placeholder:s.name,inputPlaceholder:s.name,className:"",children:[e.jsx(a,{value:null,children:h("category_show.filters.not_selected")}),(c=s==null?void 0:s.values)==null?void 0:c.map(l=>e.jsx(a,{value:l.id.toString(),children:l.value},l.id))]})},s.id)}),i.length>0&&i.map(s=>{var c;return e.jsx("div",{className:"",children:e.jsxs(m,{value:n.attributes[s.slug],onChange:l=>r("attributes",{...n.attributes,[s.slug]:l}),placeholder:s.name,inputPlaceholder:s.name,className:"",children:[e.jsx(a,{value:null,children:h("category_show.filters.not_selected")}),(c=s==null?void 0:s.values)==null?void 0:c.map(l=>e.jsx(a,{value:l.id.toString(),children:l.value},l.id))]})},s.id)}),e.jsxs(w,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(o,{variant:"outline-white",className:"w-[200px] !justify-between py-5",children:["Price",e.jsx("span",{className:"opacity-50",children:e.jsx("svg",{width:"5",height:"4",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4.85 5.55L0 0.700001L0.7 0L4.85 4.15L9 0L9.7 0.700001L4.85 5.55Z",fill:"black"})})})]})}),e.jsx(C,{className:"w-80",children:e.jsxs("div",{className:"p-3",children:[e.jsx("h2",{className:"py-2 text-lg font-semibold",children:"Price Range"}),e.jsx(o,{onClick:()=>r("priceRange",[]),children:"Clear"}),e.jsx("div",{className:"flex items-center justify-center",children:n.priceRange&&((u=n.priceRange)==null?void 0:u.length)&&e.jsxs(S,{variant:"outline",className:"text-lg",children:["$",n.priceRange[0]??0," - $",n.priceRange[1]??0]})}),e.jsx(R,{className:"mt-4",defaultValue:t.priceRange??[0,1e4],onValueCommit:g,max:1e4,min:0,step:10,"aria-label":"Price range"})]})})]})]})})}),e.jsx("section",{className:"container flex items-center justify-end md:hidden",children:e.jsxs(k,{open:y,onOpenChange:x,children:[e.jsx(B,{asChild:!0,children:e.jsx(o,{size:"circle",variant:"outline",children:e.jsx(E,{})})}),e.jsxs(F,{children:[e.jsx(V,{children:e.jsx(O,{children:h("Filter products")})}),e.jsx(T,{className:"sr-only",children:"Filter products"}),e.jsxs("div",{className:"mt-7 flex w-full flex-col gap-7 px-4",children:[d.length>0&&d.map(s=>{var c;return e.jsx("div",{className:"",children:e.jsxs(m,{value:n.variations[s.id],onChange:l=>r("variations",{...n.variations,[s.id]:l}),placeholder:s.name,inputPlaceholder:s.name,className:"w-full",children:[e.jsx(a,{value:null,children:h("category_show.filters.not_selected")}),(c=s==null?void 0:s.values)==null?void 0:c.map(l=>e.jsx(a,{value:l.id.toString(),children:l.value},l.id))]})},s.id*Math.random())}),i.length>0&&i.map(s=>{var c;return e.jsx("div",{className:"",children:e.jsxs(m,{value:n.attributes[s.slug],onChange:l=>r("attributes",{...n.attributes,[s.slug]:l}),placeholder:s.name,inputPlaceholder:s.name,className:"w-full",children:[e.jsx(a,{value:null,children:h("category_show.filters.not_selected")}),(c=s==null?void 0:s.values)==null?void 0:c.map(l=>e.jsx(a,{value:l.id.toString(),children:l.value},l.id))]})},s.id*Math.random())}),e.jsxs(w,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(o,{variant:"outline-white",className:"!justify-between py-5",children:["Price",e.jsx("span",{className:"opacity-50",children:e.jsx("svg",{width:"5",height:"4",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4.85 5.55L0 0.700001L0.7 0L4.85 4.15L9 0L9.7 0.700001L4.85 5.55Z",fill:"black"})})})]})}),e.jsx(C,{className:"w-80",children:e.jsxs("div",{className:"p-3",children:[e.jsx("h2",{className:"py-2 text-lg font-semibold",children:"Price Range"}),e.jsx(o,{onClick:()=>r("priceRange",[]),children:"Clear"}),e.jsx("div",{className:"flex items-center justify-center",children:n.priceRange&&((f=n.priceRange)==null?void 0:f.length)&&e.jsxs(S,{variant:"outline",className:"text-lg",children:["$",n.priceRange[0]??0," - $",n.priceRange[1]??0]})}),e.jsx(R,{className:"mt-4",defaultValue:t.priceRange??[0,1e4],onValueCommit:g,max:1e4,min:0,step:10,"aria-label":"Price range"})]})})]})]})]})]})})]})};export{b as default};
