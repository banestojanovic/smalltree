import{j as s,M as U,U as z}from"./app-DmTX3YGB.js";import{T as c}from"./typography-CJgvjBKH.js";import{F as E}from"./FrontendLayout-fIx248Z1.js";import{u as L}from"./functions-yhtOOeFX.js";import{u as P}from"./index-BzuzKMCH.js";import"./utils-CytzSlOG.js";import"./button-5vs5Biji.js";import"./index-Cx42TrbM.js";import"./index-HznLxn6m.js";import"./dialog-DNMFZzBy.js";import"./createLucideIcon-CKdJ-6_-.js";import"./UpdateCartQuantity-OUMYC7Yc.js";import"./InputError-BoNSN4nI.js";import"./proxy-1d7SvSBf.js";import"./PromotionsFull-DuBAg9nh.js";import"./PromotionCardItem-ao0vSnaz.js";import"./card-D-EHh-Jr.js";import"./ProductPrice-BKo6u3gf.js";import"./TopPosts-MDnx3ypl.js";import"./badge-CEfGuja6.js";import"./NavLink-rTeVIgXR.js";import"./ApplicationLogo-BANo9tOI.js";const R=({order:a})=>{var m,n,d,x,p,r,h,o,u,j;const{t:e}=P(),t=L();return s.jsxs(s.Fragment,{children:[s.jsx(U,{title:e("order.order_summary")}),s.jsx("div",{className:"container",children:s.jsx("div",{className:"mt-5 md:mt-10",children:s.jsxs("div",{className:"mx-auto max-w-3xl",children:[s.jsxs("div",{className:"max-w-3xl space-y-2 md:space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx(c,{as:"p",className:"text-primary text-sm font-medium uppercase sm:text-sm",children:e("order.summary.top_title")}),s.jsx(c,{as:"p",className:"text-foreground/60 text-sm font-medium sm:text-sm",children:a==null?void 0:a.date_created})]}),s.jsx(c,{as:"h2",className:"max-sm:font-semibold sm:text-5xl/tight",children:(m=a==null?void 0:a.payment)!=null&&m.processed?e("payments.success.title"):e("order.summary.title")}),s.jsx(c,{as:"p",className:"text-foreground/60",children:(n=a==null?void 0:a.payment)!=null&&n.processed?e("payments.success.description"):e("order.summary.subtitle")})]}),s.jsx("div",{children:s.jsxs("dl",{className:"mt-12 text-sm font-medium",children:[s.jsx("dt",{className:"",children:e("order.summary.order_number")}),s.jsxs("dd",{className:"text-primary mt-2",children:["#",a.id]})]})}),s.jsxs("div",{className:"mt-10 border-t border-gray-200",children:[s.jsx("h2",{className:"sr-only",children:e("order.summary.your_order")}),s.jsx("h3",{className:"sr-only",children:e("order.summary.products")}),(d=a==null?void 0:a.items)==null?void 0:d.map((l,i)=>{var y,N,f,_,v,g,b,w,F,q,k,C,O,T,A,M;return(l==null?void 0:l.product)&&s.jsxs("div",{className:"flex space-x-6 py-10",children:[((N=(y=l==null?void 0:l.product)==null?void 0:y.cover)==null?void 0:N.original_url)&&s.jsx("img",{src:(f=l==null?void 0:l.product.cover)==null?void 0:f.original_url,alt:l==null?void 0:l.product.name,className:"size-20 flex-none rounded-lg bg-white object-contain object-center sm:h-40 sm:w-40"}),s.jsxs("div",{className:"flex flex-auto flex-col",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-title text-xl font-medium hover:underline",children:s.jsx(z,{href:route("products.show",(_=l==null?void 0:l.product)==null?void 0:_.slug),children:l.product.name})}),s.jsx("p",{className:"mt-2 text-sm",children:l.product.description})]}),s.jsx("div",{className:"mt-6 flex flex-1 items-end",children:s.jsxs("dl",{className:"xxs:flex-row xxs:divide-x flex flex-col gap-1 space-x-1 text-sm sm:space-x-4",children:[((b=(g=(v=a==null?void 0:a.cart)==null?void 0:v.products)==null?void 0:g[i])==null?void 0:b.variation)&&s.jsxs("div",{className:"xxs:pr-2 flex sm:pr-6",children:[s.jsxs("dt",{className:"font-medium",children:[(C=(k=(q=(F=(w=a==null?void 0:a.cart)==null?void 0:w.products)==null?void 0:F[i])==null?void 0:q.variation)==null?void 0:k.variation)==null?void 0:C.name,":"]}),s.jsx("dd",{className:"ml-2",children:(M=(A=(T=(O=a==null?void 0:a.cart)==null?void 0:O.products)==null?void 0:T[i])==null?void 0:A.variation)==null?void 0:M.value})]}),s.jsxs("div",{className:"xxs:pr-2 flex sm:pr-6",children:[s.jsxs("dt",{className:"font-medium",children:[e("order.summary.quantity"),":"]}),s.jsx("dd",{className:"ml-2",children:l.quantity})]}),s.jsxs("div",{className:"flex",children:[s.jsxs("dt",{className:"font-medium",children:[e("order.summary.price"),":"]}),s.jsxs("dd",{className:"xxs:flex-row xxs:space-x-2 ml-2 flex flex-col gap-1",children:[s.jsxs("span",{children:[t(l.price*l.quantity),"rsd"]}),l.price!==l.real_price&&s.jsxs("span",{className:"text-muted-foreground line-through",children:[t(l.real_price*l.quantity),"rsd"]})]})]})]})})]})]},l.id)}),s.jsxs("div",{className:"sm:ml-40 sm:pl-6",children:[s.jsx("h3",{className:"sr-only",children:e("order.summary.your_information")}),s.jsx("h4",{className:"sr-only",children:e("order.summary.addresses")}),s.jsxs("dl",{className:"grid grid-cols-2 gap-x-6 py-10 text-sm",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"font-medium",children:e("order.shipping_address")}),s.jsx("dd",{className:"mt-2",children:s.jsxs("address",{className:"space-y-1 not-italic",children:[s.jsx("span",{className:"block",children:(x=a==null?void 0:a.user)==null?void 0:x.name}),s.jsxs("span",{className:"block",children:[(p=a.shipping_address)==null?void 0:p.address_line_1," ",(r=a.shipping_address)==null?void 0:r.address_line_2]}),s.jsxs("span",{className:"block",children:[(h=a.shipping_address)==null?void 0:h.city," ",(o=a.shipping_address)==null?void 0:o.postal_code]})]})})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"font-medium",children:e("order.payment_method")}),s.jsxs("dd",{className:"mt-2 space-y-1",children:[s.jsx("p",{children:a.payment_method_label}),((u=a==null?void 0:a.payment)==null?void 0:u.processed)&&s.jsxs(s.Fragment,{children:[s.jsx("p",{children:a.payment.card}),s.jsxs("p",{children:[e("mails.orders.payment_details.oid"),": ",a.payment.oid]}),s.jsxs("p",{children:[e("mails.orders.payment_details.response_code"),": ",a.payment.responseCode==="Approved"?"Odobreno":"Odbijeno"]}),s.jsxs("p",{children:[e("mails.orders.payment_details.auth_code"),": ",a.payment.authAttrCode]}),s.jsxs("p",{children:[e("mails.orders.payment_details.proc_return_code"),": ",a.payment.procCode]}),s.jsxs("p",{children:[e("mails.orders.payment_details.md_status"),": ",a.payment.md]})]})]})]})]}),((j=a==null?void 0:a.data)==null?void 0:j.note)&&s.jsxs("dl",{className:"space-y-3 border-t border-gray-200 py-10 text-sm",children:[s.jsx("dt",{className:"font-medium",children:e("mails.orders.created.note")}),s.jsx("dd",{children:a.data.note})]}),s.jsx("h3",{className:"sr-only",children:e("order.summary.summary")}),s.jsxs("dl",{className:"space-y-6 border-t border-gray-200 pt-10 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"font-medium",children:e("order.subtotal")}),s.jsxs("dd",{children:[t((a==null?void 0:a.amount)??0),"rsd"]})]}),(a==null?void 0:a.shipping)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"font-medium",children:e("order.shipping")}),s.jsxs("dd",{children:[t((a==null?void 0:a.shipping)??0),"rsd"]})]}),(a==null?void 0:a.discount)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"font-medium",children:e("order.discount")}),s.jsxs("dd",{children:[t((a==null?void 0:a.discount)??0),"rsd"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"font-medium",children:e("order.tax")}),s.jsx("dd",{children:"20%"})]}),s.jsxs("div",{className:"flex justify-between text-xl",children:[s.jsx("dt",{className:"font-medium",children:e("order.total")}),s.jsxs("dd",{children:[t(a.total),"rsd"]})]})]})]})]})]})})})]})};R.layout=a=>s.jsx(E,{children:a});export{R as default};
