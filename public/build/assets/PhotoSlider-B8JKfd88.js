import{r as R,j as m}from"./app-DW12WSyT.js";import{g as V,j as z,k as _,l as E,o as I,S as A,N as F,i as C}from"./navigation-f4W0nT7q.js";import{B}from"./button-CNOMmdm5.js";import{c as L}from"./createLucideIcon-HwograPr.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=L("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function N(b){let{swiper:e,extendParams:T,on:f}=b;T({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let w=!1,r=!1;e.thumbs={swiper:null};function P(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const s=t.clickedIndex,l=t.clickedSlide;if(l&&l.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof s>"u"||s===null)return;let o;t.params.loop?o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10):o=s,e.params.loop?e.slideToLoop(o):e.slideTo(o)}function v(){const{thumbs:t}=e.params;if(w)return!1;w=!0;const s=e.constructor;if(t.swiper instanceof s)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(z(t.swiper)){const l=Object.assign({},t.swiper);Object.assign(l,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new s(l),r=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",P),!0}function c(t){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const l=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():s.params.slidesPerView;let o=1;const a=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(o=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(o=1),o=Math.floor(o),s.slides.forEach(d=>d.classList.remove(a)),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let d=0;d<o;d+=1)_(s.slidesEl,`[data-swiper-slide-index="${e.realIndex+d}"]`).forEach(n=>{n.classList.add(a)});else for(let d=0;d<o;d+=1)s.slides[e.realIndex+d]&&s.slides[e.realIndex+d].classList.add(a);const u=e.params.thumbs.autoScrollOffset,x=u&&!s.params.loop;if(e.realIndex!==s.realIndex||x){const d=s.activeIndex;let n,g;if(s.params.loop){const i=s.slides.filter(S=>S.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];n=s.slides.indexOf(i),g=e.activeIndex>e.previousIndex?"next":"prev"}else n=e.realIndex,g=n>e.previousIndex?"next":"prev";x&&(n+=g==="next"?u:-1*u),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(n)<0&&(s.params.centeredSlides?n>d?n=n-Math.floor(l/2)+1:n=n+Math.floor(l/2)-1:n>d&&s.params.slidesPerGroup,s.slideTo(n,t?0:void 0))}}f("beforeInit",()=>{const{thumbs:t}=e.params;if(!(!t||!t.swiper))if(typeof t.swiper=="string"||t.swiper instanceof HTMLElement){const s=V(),l=()=>{const a=typeof t.swiper=="string"?s.querySelector(t.swiper):t.swiper;if(a&&a.swiper)t.swiper=a.swiper,v(),c(!0);else if(a){const u=`${e.params.eventsPrefix}init`,x=d=>{t.swiper=d.detail[0],a.removeEventListener(u,x),v(),c(!0),t.swiper.update(),e.update()};a.addEventListener(u,x)}return a},o=()=>{if(e.destroyed)return;l()||requestAnimationFrame(o)};requestAnimationFrame(o)}else v(),c(!0)}),f("slideChange update resize observerUpdate",()=>{c()}),f("setTransition",(t,s)=>{const l=e.thumbs.swiper;!l||l.destroyed||l.setTransition(s)}),f("beforeDestroy",()=>{const t=e.thumbs.swiper;!t||t.destroyed||r&&t.destroy()}),Object.assign(e.thumbs,{init:v,update:c})}function D(b){let{swiper:e,extendParams:T,emit:f,once:w}=b;T({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const c=e.getTranslate();e.setTranslate(c),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function P(){if(e.params.cssMode)return;const{touchEventsData:c,touches:t}=e;c.velocities.length===0&&c.velocities.push({position:t[e.isHorizontal()?"startX":"startY"],time:c.touchStartTime}),c.velocities.push({position:t[e.isHorizontal()?"currentX":"currentY"],time:E()})}function v(c){let{currentPos:t}=c;if(e.params.cssMode)return;const{params:s,wrapperEl:l,rtlTranslate:o,snapGrid:a,touchEventsData:u}=e,d=E()-u.touchStartTime;if(t<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(t>-e.maxTranslate()){e.slides.length<a.length?e.slideTo(a.length-1):e.slideTo(e.slides.length-1);return}if(s.freeMode.momentum){if(u.velocities.length>1){const p=u.velocities.pop(),h=u.velocities.pop(),O=p.position-h.position,k=p.time-h.time;e.velocity=O/k,e.velocity/=2,Math.abs(e.velocity)<s.freeMode.minimumVelocity&&(e.velocity=0),(k>150||E()-p.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=s.freeMode.momentumVelocityRatio,u.velocities.length=0;let n=1e3*s.freeMode.momentumRatio;const g=e.velocity*n;let i=e.translate+g;o&&(i=-i);let S=!1,M;const y=Math.abs(e.velocity)*20*s.freeMode.momentumBounceRatio;let j;if(i<e.maxTranslate())s.freeMode.momentumBounce?(i+e.maxTranslate()<-y&&(i=e.maxTranslate()-y),M=e.maxTranslate(),S=!0,u.allowMomentumBounce=!0):i=e.maxTranslate(),s.loop&&s.centeredSlides&&(j=!0);else if(i>e.minTranslate())s.freeMode.momentumBounce?(i-e.minTranslate()>y&&(i=e.minTranslate()+y),M=e.minTranslate(),S=!0,u.allowMomentumBounce=!0):i=e.minTranslate(),s.loop&&s.centeredSlides&&(j=!0);else if(s.freeMode.sticky){let p;for(let h=0;h<a.length;h+=1)if(a[h]>-i){p=h;break}Math.abs(a[p]-i)<Math.abs(a[p-1]-i)||e.swipeDirection==="next"?i=a[p]:i=a[p-1],i=-i}if(j&&w("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(o?n=Math.abs((-i-e.translate)/e.velocity):n=Math.abs((i-e.translate)/e.velocity),s.freeMode.sticky){const p=Math.abs((o?-i:i)-e.translate),h=e.slidesSizesGrid[e.activeIndex];p<h?n=s.speed:p<2*h?n=s.speed*1.5:n=s.speed*2.5}}else if(s.freeMode.sticky){e.slideToClosest();return}s.freeMode.momentumBounce&&S?(e.updateProgress(M),e.setTransition(n),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating=!0,I(l,()=>{!e||e.destroyed||!u.allowMomentumBounce||(f("momentumBounce"),e.setTransition(s.speed),setTimeout(()=>{e.setTranslate(M),I(l,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(f("_freeModeNoMomentumRelease"),e.updateProgress(i),e.setTransition(n),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,I(l,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(i),e.updateActiveIndex(),e.updateSlidesClasses()}else if(s.freeMode.sticky){e.slideToClosest();return}else s.freeMode&&f("_freeModeNoMomentumRelease");(!s.freeMode.momentum||d>=s.longSwipesMs)&&(f("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:P,onTouchEnd:v}})}function U({product:b}){var f,w;const[e,T]=R.useState(null);return m.jsx(m.Fragment,{children:m.jsxs("div",{className:"",children:[m.jsx("div",{className:"h-full",children:m.jsx(A,{spaceBetween:10,thumbs:{swiper:e},modules:[D,N,F],navigation:{nextEl:".slider-next",prevEl:".slider-prev"},className:"h-full w-full",children:(f=b.photos)==null?void 0:f.map(r=>(r==null?void 0:r.original_url)&&m.jsx(C,{children:m.jsx("img",{className:"h-96 w-full rounded-lg object-cover",src:r==null?void 0:r.original_url,alt:"Product slider image"})},r==null?void 0:r.id))})}),m.jsxs("div",{className:"mt-5 flex items-center justify-between gap-x-5",children:[m.jsx(B,{className:"slider-prev",variant:"outline",children:m.jsx(q,{})}),m.jsx(A,{onSwiper:r=>T(r),spaceBetween:4,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0,modules:[D,N],className:"mySwiper",children:(w=b.photos)==null?void 0:w.map(r=>(r==null?void 0:r.original_url)&&m.jsx(C,{children:m.jsx("img",{className:"aspect-square h-20 w-[calc(100%-10px)] cursor-pointer rounded-lg object-cover",src:r==null?void 0:r.original_url,alt:"Product slider image"})},r.id))}),m.jsx(B,{className:"slider-next",variant:"outline",children:m.jsx(H,{})})]})]})})}export{U as default};
