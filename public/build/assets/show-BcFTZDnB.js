import{r as d,j as e,V as w,a as H,M as W}from"./app-DJ1H3Hlj.js";import{a as I,u as J,B as R}from"./button-B9XCzPDy.js";import{C as X,a as Y}from"./card-Cn0Knyri.js";import{F as x}from"./FieldGroup-yEDWBj6a.js";import{I as y}from"./UpdateCartQuantity-D2kuIS-b.js";import{L as Q,F as Z}from"./FrontendLayout-CPRJcW8g.js";import{c as b,u as ee}from"./index-BPzISirC.js";import{c as P,P as k}from"./functions-D0edpi6o.js";import{c as E,u as re,R as ae,I as se}from"./index-DRf6jzcL.js";import{u as oe,a as te,C as ce}from"./index-CHiECpMO.js";import{P as ie}from"./index-B-3RQfim.js";import{c as G}from"./utils-CytzSlOG.js";import{T as g}from"./typography-ChUYBK0I.js";import ne from"./ProductsList-b-GtvsjI.js";import"./proxy-HYVEZDD1.js";import"./createLucideIcon-DvPTSxWv.js";import"./dialog-Bi_4hRtl.js";import"./InputError-C92nMcIH.js";import"./PromotionsFull-Ctb9fVWt.js";import"./PromotionCardItem-CZ5XA2uD.js";import"./ProductPrice-B0ytvJMw.js";import"./TopPosts-CczJTixO.js";import"./badge-BVEOQh0E.js";import"./NavLink-q1rF9pBL.js";import"./ApplicationLogo-D86UE5zr.js";var N="Radio",[le,S]=P(N),[de,ue]=le(N),A=d.forwardRef((r,i)=>{const{__scopeRadio:o,name:l,checked:s=!1,required:t,disabled:n,value:c="on",onCheck:u,form:h,...a}=r,[m,f]=d.useState(null),p=I(i,_=>f(_)),v=d.useRef(!1),j=m?h||!!m.closest("form"):!0;return e.jsxs(de,{scope:o,checked:s,disabled:n,children:[e.jsx(k.button,{type:"button",role:"radio","aria-checked":s,"data-state":F(s),"data-disabled":n?"":void 0,disabled:n,value:c,...a,ref:p,onClick:b(r.onClick,_=>{s||u==null||u(),j&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),j&&e.jsx(me,{control:m,bubbles:!v.current,name:l,value:c,checked:s,required:t,disabled:n,form:h,style:{transform:"translateX(-100%)"}})]})});A.displayName=N;var D="RadioIndicator",q=d.forwardRef((r,i)=>{const{__scopeRadio:o,forceMount:l,...s}=r,t=ue(D,o);return e.jsx(ie,{present:l||t.checked,children:e.jsx(k.span,{"data-state":F(t.checked),"data-disabled":t.disabled?"":void 0,...s,ref:i})})});q.displayName=D;var me=r=>{const{control:i,checked:o,bubbles:l=!0,...s}=r,t=d.useRef(null),n=oe(o),c=te(i);return d.useEffect(()=>{const u=t.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(n!==o&&m){const f=new Event("click",{bubbles:l});m.call(u,o),u.dispatchEvent(f)}},[n,o,l]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:o,...s,tabIndex:-1,ref:t,style:{...r.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function F(r){return r?"checked":"unchecked"}var pe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],C="RadioGroup",[he,$e]=P(C,[E,S]),L=E(),T=S(),[fe,ve]=he(C),O=d.forwardRef((r,i)=>{const{__scopeRadioGroup:o,name:l,defaultValue:s,value:t,required:n=!1,disabled:c=!1,orientation:u,dir:h,loop:a=!0,onValueChange:m,...f}=r,p=L(o),v=re(h),[j,_]=ee({prop:t,defaultProp:s,onChange:m});return e.jsx(fe,{scope:o,name:l,required:n,disabled:c,value:j,onValueChange:_,children:e.jsx(ae,{asChild:!0,...p,orientation:u,dir:v,loop:a,children:e.jsx(k.div,{role:"radiogroup","aria-required":n,"aria-orientation":u,"data-disabled":c?"":void 0,dir:v,...f,ref:i})})})});O.displayName=C;var M="RadioGroupItem",V=d.forwardRef((r,i)=>{const{__scopeRadioGroup:o,disabled:l,...s}=r,t=ve(M,o),n=t.disabled||l,c=L(o),u=T(o),h=d.useRef(null),a=I(i,h),m=t.value===s.value,f=d.useRef(!1);return d.useEffect(()=>{const p=j=>{pe.includes(j.key)&&(f.current=!0)},v=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",v)}},[]),e.jsx(se,{asChild:!0,...c,focusable:!n,active:m,children:e.jsx(A,{disabled:n,required:t.required,checked:m,...u,...s,name:t.name,ref:a,onCheck:()=>t.onValueChange(s.value),onKeyDown:b(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:b(s.onFocus,()=>{var p;f.current&&((p=h.current)==null||p.click())})})})});V.displayName=M;var xe="RadioGroupIndicator",K=d.forwardRef((r,i)=>{const{__scopeRadioGroup:o,...l}=r,s=T(o);return e.jsx(q,{...s,...l,ref:i})});K.displayName=xe;var z=O,B=V,ye=K;const $=d.forwardRef(({className:r,...i},o)=>e.jsx(z,{className:G("grid gap-2",r),...i,ref:o}));$.displayName=z.displayName;const U=d.forwardRef(({className:r,...i},o)=>e.jsx(B,{ref:o,className:G("flex aspect-square size-5 items-center justify-center rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),...i,children:e.jsx(ye,{className:"flex items-center justify-center",children:e.jsx(ce,{className:"size-3.5 fill-primary"})})}));U.displayName=B.displayName;const je=()=>{const{t:r}=J(),i=w().props.cart,o=w().props.global,l=[{id:"1",title:r("checkout.payment_methods.credit_card")},{id:"2",title:r("checkout.payment_methods.upon_delivery")}],{data:s,setData:t,post:n,errors:c}=H({email:"",phone:"",first_name:"",last_name:"",address:"",city:"",postal_code:"",payment_method:"2"}),u=a=>{a.preventDefault(),n(route("orders.store"),{preserveScroll:!0})},h=()=>{t({email:"test@example.com",phone:"+1234567890",first_name:"John",last_name:"Doe",address:"123 Test Street",city:"Test City",postal_code:"12345",payment_method:"2"})};return e.jsxs(e.Fragment,{children:[e.jsx(W,{title:r("checkout.checkout")}),e.jsx("div",{className:"container relative lg:max-w-6xl",children:e.jsxs("div",{className:"py-7 lg:pt-20",children:[e.jsx("h2",{className:"sr-only",children:r("checkout.checkout")}),(o==null?void 0:o.env)==="local"&&e.jsx(R,{variant:"outlined-white",type:"button",onClick:h,className:"absolute top-4",children:r("checkout.fill_with_test_data")}),e.jsxs("form",{onSubmit:u,className:"grid gap-10 md:gap-20 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{className:"space-y-3.5 md:space-y-7",children:[e.jsx(g,{as:"h4",children:r("checkout.contact_info")}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-1",children:[e.jsx(x,{label:r("checkout.form.labels.email"),name:"email",error:c.email,required:!0,children:e.jsx(y,{id:"email",type:"email",placeholder:r("checkout.form.placeholders.email"),value:s.email,onChange:a=>t("email",a.target.value)})}),e.jsx(x,{label:r("checkout.form.labels.phone"),name:"phone",error:c.phone,required:!0,children:e.jsx(y,{id:"phone",placeholder:r("checkout.form.placeholders.phone"),value:s.phone,onChange:a=>t("phone",a.target.value)})})]})]}),e.jsxs("div",{className:"space-y-3.5 md:space-y-7",children:[e.jsx(g,{as:"h4",children:r("checkout.shipping_info")}),e.jsxs("div",{className:"space-y-7",children:[e.jsxs("div",{className:"grid gap-6 md:flex md:items-center",children:[e.jsx("div",{className:"w-full",children:e.jsx(x,{label:r("checkout.form.labels.first_name"),name:"first_name",error:c.first_name,required:!0,children:e.jsx(y,{id:"first_name",placeholder:r("checkout.form.placeholders.first_name"),value:s.first_name,onChange:a=>t("first_name",a.target.value)})})}),e.jsx("div",{className:"w-full",children:e.jsx(x,{label:r("checkout.form.labels.last_name"),name:"last_name",error:c.last_name,required:!0,children:e.jsx(y,{id:"last_name",placeholder:r("checkout.form.placeholders.last_name"),value:s.last_name,onChange:a=>t("last_name",a.target.value)})})})]}),e.jsx(x,{label:r("checkout.form.labels.address"),name:"address",error:c.address,required:!0,children:e.jsx(y,{id:"address",placeholder:r("checkout.form.placeholders.address"),value:s.address,onChange:a=>t("address",a.target.value)})}),e.jsxs("div",{className:"grid gap-7 md:flex md:items-center",children:[e.jsx("div",{className:"w-full",children:e.jsx(x,{label:"City",name:"city",error:c.city,required:!0,children:e.jsx(y,{id:"city",placeholder:"City",value:s.city,onChange:a=>t("city",a.target.value)})})}),e.jsx("div",{className:"w-full",children:e.jsx(x,{label:r("checkout.form.labels.postal_code"),name:"postal_code",error:c.postal_code,required:!0,children:e.jsx(y,{id:"postal_code",placeholder:r("checkout.form.placeholders.postal_code"),value:s.postal_code,onChange:a=>t("postal_code",a.target.value)})})})]})]})]}),e.jsxs("div",{className:"space-y-3.5 md:space-y-7",children:[e.jsx(g,{as:"h4",children:r("checkout.payment_method")}),e.jsx($,{onValueChange:a=>t("payment_method",a),value:s.payment_method,className:"flex w-full flex-col items-center md:flex-row md:gap-7",children:l.map((a,m)=>e.jsx(R,{asChild:!0,variant:"outlined-white",className:"h-12 w-full justify-start px-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(U,{value:a.id,id:`payment_method_${a.id}`}),e.jsx(Q,{htmlFor:`payment_method_${a.id}`,className:"absolute inset-0 cursor-pointer opacity-0",children:e.jsx("span",{className:"sr-only",children:a.title})}),e.jsx("span",{children:a.title})]})},m))}),c.payment_method&&e.jsx("div",{className:"mt-2 text-sm text-red-500",children:c.payment_method})]})]}),e.jsxs("div",{className:"space-y-3.5 md:space-y-7",children:[e.jsx(g,{as:"h4",children:r("checkout.order_summary")}),e.jsx(X,{className:"rounded-md border-none shadow-none",children:e.jsxs(Y,{className:"p-2 md:p-10",children:[e.jsx(ne,{cart:i}),e.jsx("div",{className:"mt-10",children:e.jsx(R,{type:"submit",className:"block h-12 w-full uppercase",children:r("checkout.actions.confirm")})})]})})]})]})]})})]})};je.layout=r=>e.jsx(Z,{children:r});export{je as default};
