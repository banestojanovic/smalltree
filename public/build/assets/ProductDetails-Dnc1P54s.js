import{r as p,j as o,R as g,q as be,a as je}from"./app-DDXEnFeq.js";import{a as J,f as $,g as W,P as I,c as X,e as Ae,b as Ne}from"./index-BgKLkSr-.js";import{c as ye,u as Ie}from"./index-B1Tn7jk0.js";import{u as Z,c as L,B as E}from"./button-DX-a5s2M.js";import{C as _e}from"./chevron-down-QgYY5PLT.js";import{T as j}from"./typography-DbQWroH3.js";import{T as we,a as Re,A as Pe}from"./toggle-group-kyTNWJ-R.js";import ke from"./PhotoSlider-BJEN4Vke.js";import{u as Se}from"./useTranslation-DmFbyBJM.js";import{c as ee}from"./createLucideIcon-gdiQdiTj.js";import"./navigation-DZ7MDhnY.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var H="Collapsible",[Oe,oe]=J(H),[Me,G]=Oe(H),ne=p.forwardRef((e,a)=>{const{__scopeCollapsible:n,open:t,defaultOpen:r,disabled:s,onOpenChange:l,...d}=e,[m=!1,f]=$({prop:t,defaultProp:r,onChange:l});return o.jsx(Me,{scope:n,disabled:s,contentId:W(),open:m,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),children:o.jsx(I.div,{"data-state":K(m),"data-disabled":s?"":void 0,...d,ref:a})})});ne.displayName=H;var te="CollapsibleTrigger",se=p.forwardRef((e,a)=>{const{__scopeCollapsible:n,...t}=e,r=G(te,n);return o.jsx(I.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":K(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...t,ref:a,onClick:X(e.onClick,r.onOpenToggle)})});se.displayName=te;var B="CollapsibleContent",ae=p.forwardRef((e,a)=>{const{forceMount:n,...t}=e,r=G(B,e.__scopeCollapsible);return o.jsx(Ae,{present:n||r.open,children:({present:s})=>o.jsx(De,{...t,ref:a,present:s})})});ae.displayName=B;var De=p.forwardRef((e,a)=>{const{__scopeCollapsible:n,present:t,children:r,...s}=e,l=G(B,n),[d,m]=p.useState(t),f=p.useRef(null),h=Z(a,f),v=p.useRef(0),b=v.current,C=p.useRef(0),N=C.current,i=l.open||d,x=p.useRef(i),u=p.useRef(void 0);return p.useEffect(()=>{const c=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(c)},[]),Ne(()=>{const c=f.current;if(c){u.current=u.current||{transitionDuration:c.style.transitionDuration,animationName:c.style.animationName},c.style.transitionDuration="0s",c.style.animationName="none";const y=c.getBoundingClientRect();v.current=y.height,C.current=y.width,x.current||(c.style.transitionDuration=u.current.transitionDuration,c.style.animationName=u.current.animationName),m(t)}},[l.open,t]),o.jsx(I.div,{"data-state":K(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!i,...s,ref:h,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...e.style},children:i&&r})});function K(e){return e?"open":"closed"}var Ve=ne,$e=se,Le=ae,A="Accordion",He=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[F,Ge,Be]=ye(A),[w,co]=J(A,[Be,oe]),z=oe(),re=g.forwardRef((e,a)=>{const{type:n,...t}=e,r=t,s=t;return o.jsx(F.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?o.jsx(Qe,{...s,ref:a}):o.jsx(ze,{...r,ref:a})})});re.displayName=A;var[ie,Ke]=w(A),[le,Fe]=w(A,{collapsible:!1}),ze=g.forwardRef((e,a)=>{const{value:n,defaultValue:t,onValueChange:r=()=>{},collapsible:s=!1,...l}=e,[d,m]=$({prop:n,defaultProp:t,onChange:r});return o.jsx(ie,{scope:e.__scopeAccordion,value:d?[d]:[],onItemOpen:m,onItemClose:g.useCallback(()=>s&&m(""),[s,m]),children:o.jsx(le,{scope:e.__scopeAccordion,collapsible:s,children:o.jsx(ce,{...l,ref:a})})})}),Qe=g.forwardRef((e,a)=>{const{value:n,defaultValue:t,onValueChange:r=()=>{},...s}=e,[l=[],d]=$({prop:n,defaultProp:t,onChange:r}),m=g.useCallback(h=>d((v=[])=>[...v,h]),[d]),f=g.useCallback(h=>d((v=[])=>v.filter(b=>b!==h)),[d]);return o.jsx(ie,{scope:e.__scopeAccordion,value:l,onItemOpen:m,onItemClose:f,children:o.jsx(le,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(ce,{...s,ref:a})})})}),[Ue,R]=w(A),ce=g.forwardRef((e,a)=>{const{__scopeAccordion:n,disabled:t,dir:r,orientation:s="vertical",...l}=e,d=g.useRef(null),m=Z(d,a),f=Ge(n),v=Ie(r)==="ltr",b=X(e.onKeyDown,C=>{var U;if(!He.includes(C.key))return;const N=C.target,i=f().filter(T=>{var q;return!((q=T.ref.current)!=null&&q.disabled)}),x=i.findIndex(T=>T.ref.current===N),u=i.length;if(x===-1)return;C.preventDefault();let c=x;const y=0,P=u-1,k=()=>{c=x+1,c>P&&(c=y)},S=()=>{c=x-1,c<y&&(c=P)};switch(C.key){case"Home":c=y;break;case"End":c=P;break;case"ArrowRight":s==="horizontal"&&(v?k():S());break;case"ArrowDown":s==="vertical"&&k();break;case"ArrowLeft":s==="horizontal"&&(v?S():k());break;case"ArrowUp":s==="vertical"&&S();break}const Ce=c%u;(U=i[Ce].ref.current)==null||U.focus()});return o.jsx(Ue,{scope:n,disabled:t,direction:r,orientation:s,children:o.jsx(F.Slot,{scope:n,children:o.jsx(I.div,{...l,"data-orientation":s,ref:m,onKeyDown:t?void 0:b})})})}),_="AccordionItem",[qe,Q]=w(_),de=g.forwardRef((e,a)=>{const{__scopeAccordion:n,value:t,...r}=e,s=R(_,n),l=Ke(_,n),d=z(n),m=W(),f=t&&l.value.includes(t)||!1,h=s.disabled||e.disabled;return o.jsx(qe,{scope:n,open:f,disabled:h,triggerId:m,children:o.jsx(Ve,{"data-orientation":s.orientation,"data-state":he(f),...d,...r,ref:a,disabled:h,open:f,onOpenChange:v=>{v?l.onItemOpen(t):l.onItemClose(t)}})})});de.displayName=_;var me="AccordionHeader",pe=g.forwardRef((e,a)=>{const{__scopeAccordion:n,...t}=e,r=R(A,n),s=Q(me,n);return o.jsx(I.h3,{"data-orientation":r.orientation,"data-state":he(s.open),"data-disabled":s.disabled?"":void 0,...t,ref:a})});pe.displayName=me;var O="AccordionTrigger",fe=g.forwardRef((e,a)=>{const{__scopeAccordion:n,...t}=e,r=R(A,n),s=Q(O,n),l=Fe(O,n),d=z(n);return o.jsx(F.ItemSlot,{scope:n,children:o.jsx($e,{"aria-disabled":s.open&&!l.collapsible||void 0,"data-orientation":r.orientation,id:s.triggerId,...d,...t,ref:a})})});fe.displayName=O;var xe="AccordionContent",ue=g.forwardRef((e,a)=>{const{__scopeAccordion:n,...t}=e,r=R(A,n),s=Q(xe,n),l=z(n);return o.jsx(Le,{role:"region","aria-labelledby":s.triggerId,"data-orientation":r.orientation,...l,...t,ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});ue.displayName=xe;function he(e){return e?"open":"closed"}var Ye=re,Je=de,We=pe,ve=fe,ge=ue;const Y=Ye,M=p.forwardRef(({className:e,...a},n)=>o.jsx(Je,{ref:n,className:L("border-b",e),...a}));M.displayName="AccordionItem";const D=p.forwardRef(({className:e,children:a,...n},t)=>o.jsx(We,{className:"flex",children:o.jsxs(ve,{ref:t,className:L("flex flex-1 items-center justify-between py-4 text-left text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[a,o.jsx(_e,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));D.displayName=ve.displayName;const V=p.forwardRef(({className:e,children:a,...n},t)=>o.jsx(ge,{ref:t,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:L("pb-4 pt-0",e),children:a})}));V.displayName=ge.displayName;const mo=({product:e})=>{var m,f,h,v,b,C,N;const{t:a}=Se(),n=be().props.cart,[t,r]=p.useState(((v=(h=(f=(m=e==null?void 0:e.variations)==null?void 0:m[1])==null?void 0:f.variations)==null?void 0:h[0])==null?void 0:v.id.toString())??null),[s,l]=p.useState(1),d=(b=e==null?void 0:e.variations)==null?void 0:b.find(i=>{var x;return(x=i==null?void 0:i.variations)==null?void 0:x.some(u=>{var c;return((c=u==null?void 0:u.pivot)==null?void 0:c.variation_value_id)==t})});return o.jsx("section",{className:"container mt-5 sm:mt-10",children:o.jsxs("div",{className:"grid grid-cols-1 gap-3 lg:grid-cols-2",children:[o.jsx("div",{children:o.jsx(ke,{product:e})}),o.jsxs("div",{className:"mt-7 lg:mt-0",children:[o.jsx(j,{as:"h2",children:e.name}),o.jsx(j,{as:"p",className:"mt-5",children:e.description}),o.jsxs(j,{as:"h2",className:"mt-7 !text-3xl !font-bold",children:["$",(d==null?void 0:d.price)??e.price]}),o.jsxs(j,{as:"p",className:"mt-7",children:[a("enums.product.free_shipping_over")," $100"]}),(e==null?void 0:e.grouped_variations)&&o.jsx("div",{className:"mt-7",children:o.jsx(we,{type:"single",className:"justify-start",value:t??void 0,onValueChange:i=>r(i),children:Object.keys((e==null?void 0:e.grouped_variations)??{}).map(i=>o.jsxs("div",{className:"flex flex-col flex-wrap space-y-1",children:[o.jsxs(j,{as:"h4",children:[" ",i," "]}),o.jsx("div",{className:"flex gap-2",children:e==null?void 0:e.grouped_variations[i].map(x=>o.jsx(Re,{variant:"default",value:x.id.toString(),"aria-label":"Toggle bold",children:x.value},x.id))})]},i))})}),o.jsxs("div",{className:"mt-7 flex flex-col gap-5 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(E,{type:"button",variant:"outline",onClick:()=>{l(i=>i>1?i-1:i)},children:o.jsx(Te,{})}),o.jsx("span",{className:"mx-3 text-2xl font-semibold",children:s}),o.jsx(E,{type:"button",variant:"outline",disabled:s>=((e==null?void 0:e.stock)??99),onClick:()=>{l(i=>i+1)},children:o.jsx(Ee,{})})]}),o.jsx(Pe,{product:e,productVariantId:t,quantity:s,disabled:((C=Object.keys((e==null?void 0:e.variations)??[]))==null?void 0:C.length)>0&&!t,variant:"default",className:"inline-flex w-full items-center justify-center"}),o.jsx(E,{asChild:n&&((n==null?void 0:n.products)??[]).length>0,disabled:!n||((n==null?void 0:n.products)??[]).length===0,className:"flex w-full",children:!n||((N=n==null?void 0:n.products)==null?void 0:N.length)===0?"Checkout":o.jsx(je,{href:route("checkout.show"),children:"Checkout"})})]}),o.jsxs("div",{className:"mt-7",children:[o.jsx(Y,{type:"single",collapsible:!0,defaultValue:"item-1",children:o.jsxs(M,{value:"item-1",children:[o.jsx(D,{children:o.jsx(j,{as:"h4",className:"mt-0",children:"Description"})}),o.jsx(V,{children:o.jsx(j,{as:"p",className:"mt-0",children:e.description})})]})}),Object.entries((e==null?void 0:e.grouped_attributes)||{}).map(([i,x])=>o.jsx(Y,{type:"single",collapsible:!0,children:o.jsxs(M,{value:i,children:[o.jsx(D,{children:o.jsx(j,{as:"h4",className:"mt-0",children:i})}),o.jsx(V,{children:x.map(u=>o.jsxs(j,{as:"p",className:"mt-0",children:[Array.isArray(u.value)?u.value.join(" | "):u.value," "]},u.id))})]})},i))]})]})]})})};export{mo as default};
