import{r as x,j as s,a as d}from"./app-DW12WSyT.js";import{C as j,c as g,e as f,d as v,a as N,b as u}from"./card-Dfp23Jsa.js";import{S as C,T as b,a as w,A as h}from"./toggle-group-bZ5Pmc7b.js";import{B as y}from"./button-CNOMmdm5.js";import{D as T,a as V,b as _,c as p,d as P,e as B}from"./dialog-b_WuQt_a.js";import{T as r}from"./typography-g_YZJ8iM.js";import{B as D}from"./badge-Di2k8n3R.js";function S({product:e}){var m;const[i,n]=x.useState(null),t=(m=e==null?void 0:e.variations)==null?void 0:m.find(a=>{var l;return(l=a==null?void 0:a.variations)==null?void 0:l.some(c=>{var o;return((o=c==null?void 0:c.pivot)==null?void 0:o.variation_value_id)==i})});return s.jsxs(T,{children:[s.jsx(V,{asChild:!0,children:s.jsx(y,{variant:"outline",children:s.jsx(C,{})})}),s.jsxs(_,{children:[s.jsx(p,{className:"sr-only",children:"Product Variations"}),s.jsx(P,{className:"sr-only",children:"Product Variations"})]}),s.jsx(B,{className:"sm:max-w-[600px]",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 py-4 sm:grid-cols-[40%_auto]",children:[s.jsx("section",{children:s.jsx("img",{className:"h-60 w-full rounded-lg object-cover sm:aspect-auto sm:size-80 sm:h-80 sm:w-auto",src:e.cover.original_url,alt:""})}),s.jsxs("section",{children:[s.jsxs(r,{as:"h3",children:[" ",e.name]}),s.jsxs(r,{as:"h4",children:[" $",(t==null?void 0:t.price)??(e==null?void 0:e.price)]}),s.jsx(r,{as:"p",className:"mt-1",children:e.description}),s.jsx("div",{className:"mt-7",children:s.jsx(b,{type:"single",className:"justify-start",value:i??void 0,onValueChange:a=>n(a),children:Object.keys((e==null?void 0:e.grouped_variations)??{}).map(a=>s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs(r,{as:"h4",children:[" ",a," "]}),s.jsx("div",{className:"flex gap-2",children:e==null?void 0:e.grouped_variations[a].map(l=>s.jsx(w,{variant:"default",value:l.id.toString(),"aria-label":"Toggle bold",children:l.value},l.id))})]},a))})}),s.jsx("div",{className:"mt-5",children:s.jsx(h,{disabled:!i,variant:"default",className:"inline-flex w-full items-center justify-center",productVariantId:i,product:e,showPrice:!0})})]})]})})]})}const z=({product:e})=>{var i;return s.jsxs(j,{children:[s.jsxs(g,{children:[s.jsx(d,{href:route("products.show",{slug:e.slug}),children:s.jsx("img",{className:"h-40 w-full object-cover sm:h-60",src:e.cover.original_url,alt:e.name})}),s.jsx(f,{children:(i=e.categories)==null?void 0:i.map(n=>s.jsx(D,{variant:"outline",children:n.name},n.id))}),s.jsx(v,{children:s.jsx(d,{href:route("products.show",{slug:e.slug}),children:s.jsx("h4",{className:"scroll-m-20 text-xl font-semibold tracking-tight",children:e.name})})})]}),s.jsx(N,{children:s.jsx("p",{className:"h-32 overflow-hidden sm:h-40",children:e.description})}),s.jsxs(u,{className:"mt-auto flex items-center justify-between",children:[s.jsxs("span",{className:"font-semibold",children:["$",e.price]}),s.jsx("div",{className:"inline-flex items-center justify-end",children:e.variations&&e.variations.length>0?s.jsx(S,{product:e}):s.jsx(h,{product:e,productVariantId:null})})]})]},e.id)};export{z as P};
