import{r as l,j as e,V,a as se,M as te}from"./app-DmTX3YGB.js";import{C as re}from"./Checkbox-BmMsKeH4.js";import{B as N}from"./button-5vs5Biji.js";import{C as oe,a as ie}from"./card-D-EHh-Jr.js";import{D as ne,a as ce,b as le,c as de,d as me,e as pe}from"./dialog-DNMFZzBy.js";import{F as C,T as ue}from"./textarea-DqUyShL1.js";import{I as _}from"./UpdateCartQuantity-OUMYC7Yc.js";import{L as G,F as he,t as xe}from"./FrontendLayout-fIx248Z1.js";import{c as k,u as fe}from"./index-HznLxn6m.js";import{a as A,u as ve}from"./index-BzuzKMCH.js";import{c as F,P as R}from"./functions-yhtOOeFX.js";import{c as T,u as je,R as ge,I as ye}from"./index-DenLYA6y.js";import{u as Ce}from"./index-CnnLVevY.js";import{u as _e,C as be}from"./index-BmjvMCEI.js";import{P as Ne}from"./index-Cx42TrbM.js";import{c as q}from"./utils-CytzSlOG.js";import{T as b}from"./typography-CJgvjBKH.js";import ke from"./ProductsList-AG-OE0xy.js";import{m as M}from"./proxy-1d7SvSBf.js";import"./createLucideIcon-CKdJ-6_-.js";import"./InputError-BoNSN4nI.js";import"./PromotionsFull-DuBAg9nh.js";import"./PromotionCardItem-ao0vSnaz.js";import"./ProductPrice-BKo6u3gf.js";import"./TopPosts-MDnx3ypl.js";import"./badge-CEfGuja6.js";import"./NavLink-rTeVIgXR.js";import"./ApplicationLogo-BANo9tOI.js";var w="Radio",[Re,L]=F(w),[we,De]=Re(w),O=l.forwardRef((a,d)=>{const{__scopeRadio:t,name:p,checked:o=!1,required:c,disabled:m,value:x="on",onCheck:h,form:f,...j}=a,[i,n]=l.useState(null),u=A(d,y=>n(y)),r=l.useRef(!1),g=i?f||!!i.closest("form"):!0;return e.jsxs(we,{scope:t,checked:o,disabled:m,children:[e.jsx(R.button,{type:"button",role:"radio","aria-checked":o,"data-state":B(o),"data-disabled":m?"":void 0,disabled:m,value:x,...j,ref:u,onClick:k(a.onClick,y=>{o||h==null||h(),g&&(r.current=y.isPropagationStopped(),r.current||y.stopPropagation())})}),g&&e.jsx(He,{control:i,bubbles:!r.current,name:p,value:x,checked:o,required:c,disabled:m,form:f,style:{transform:"translateX(-100%)"}})]})});O.displayName=w;var Z="RadioIndicator",z=l.forwardRef((a,d)=>{const{__scopeRadio:t,forceMount:p,...o}=a,c=De(Z,t);return e.jsx(Ne,{present:p||c.checked,children:e.jsx(R.span,{"data-state":B(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:d})})});z.displayName=Z;var He=a=>{const{control:d,checked:t,bubbles:p=!0,...o}=a,c=l.useRef(null),m=_e(t),x=Ce(d);return l.useEffect(()=>{const h=c.current,f=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(f,"checked").set;if(m!==t&&i){const n=new Event("click",{bubbles:p});i.call(h,t),h.dispatchEvent(n)}},[m,t,p]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:c,style:{...a.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function B(a){return a?"checked":"unchecked"}var Ie=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],D="RadioGroup",[Se,ma]=F(D,[T,L]),K=T(),$=L(),[Pe,Ee]=Se(D),U=l.forwardRef((a,d)=>{const{__scopeRadioGroup:t,name:p,defaultValue:o,value:c,required:m=!1,disabled:x=!1,orientation:h,dir:f,loop:j=!0,onValueChange:i,...n}=a,u=K(t),r=je(f),[g,y]=fe({prop:c,defaultProp:o,onChange:i});return e.jsx(Pe,{scope:t,name:p,required:m,disabled:x,value:g,onValueChange:y,children:e.jsx(ge,{asChild:!0,...u,orientation:h,dir:r,loop:j,children:e.jsx(R.div,{role:"radiogroup","aria-required":m,"aria-orientation":h,"data-disabled":x?"":void 0,dir:r,...n,ref:d})})})});U.displayName=D;var W="RadioGroupItem",J=l.forwardRef((a,d)=>{const{__scopeRadioGroup:t,disabled:p,...o}=a,c=Ee(W,t),m=c.disabled||p,x=K(t),h=$(t),f=l.useRef(null),j=A(d,f),i=c.value===o.value,n=l.useRef(!1);return l.useEffect(()=>{const u=g=>{Ie.includes(g.key)&&(n.current=!0)},r=()=>n.current=!1;return document.addEventListener("keydown",u),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",r)}},[]),e.jsx(ye,{asChild:!0,...x,focusable:!m,active:i,children:e.jsx(O,{disabled:m,required:c.required,checked:i,...h,...o,name:c.name,ref:j,onCheck:()=>c.onValueChange(o.value),onKeyDown:k(u=>{u.key==="Enter"&&u.preventDefault()}),onFocus:k(o.onFocus,()=>{var u;n.current&&((u=f.current)==null||u.click())})})})});J.displayName=W;var Ve="RadioGroupIndicator",X=l.forwardRef((a,d)=>{const{__scopeRadioGroup:t,...p}=a,o=$(t);return e.jsx(z,{...o,...p,ref:d})});X.displayName=Ve;var Y=U,Q=J,Ge=X;const ee=l.forwardRef(({className:a,...d},t)=>e.jsx(Y,{className:q("grid gap-2",a),...d,ref:t}));ee.displayName=Y.displayName;const ae=l.forwardRef(({className:a,...d},t)=>e.jsx(Q,{ref:t,className:q("flex aspect-square size-5 items-center justify-center rounded-full border border-primary text-primary shadow-sm focus:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),...d,children:e.jsx(Ge,{className:"flex items-center justify-center",children:e.jsx(be,{className:"size-3.5 fill-primary"})})}));ae.displayName=Q.displayName;const Me=()=>{const{t:a}=ve(),d=V().props.cart,t=V().props.global,[p,o]=l.useState(!1),[c,m]=l.useState(!1),[x,h]=l.useState(null),f=l.useRef(null),j=[{id:"1",title:a("checkout.payment_methods.credit_card")},{id:"2",title:a("checkout.payment_methods.upon_delivery")}],{data:i,setData:n,post:u,errors:r}=se({email:"",phone:"",first_name:"",last_name:"",address:"",city:"",postal_code:"",payment_method:"",note:"",terms:0}),g=s=>{s.preventDefault(),o(!0),u(route("orders.store"),{preserveScroll:"errors",onSuccess:v=>{var H,I,S,P;o(!1),(I=(H=v==null?void 0:v.props)==null?void 0:H.payment)!=null&&I.pay_with_card&&((P=(S=v==null?void 0:v.props)==null?void 0:S.payment)!=null&&P.paymentData)&&(o(!0),m(!0),xe(a("checkout.actions.redirect.title"),{description:a("checkout.actions.redirect.description"),duration:3e5}),h(v.props.payment.paymentData),setTimeout(()=>{requestAnimationFrame(()=>{var E;(E=f.current)==null||E.submit()})},10))},onError:()=>{o(!1)}})},y=()=>{n({email:"test@example.com",phone:"+1234567890",first_name:"John",last_name:"Doe",address:"123 Test Street",city:"Test City",postal_code:"12345",payment_method:"2",note:"",terms:1})};return e.jsxs(e.Fragment,{children:[e.jsx(te,{title:a("checkout.checkout")}),e.jsxs("div",{className:"relative container lg:max-w-6xl",children:[c?e.jsx("span",{className:"bg-background/50 absolute inset-0 z-20"}):"",e.jsxs("div",{className:"py-7 lg:pt-20",children:[e.jsx("h2",{className:"sr-only",children:a("checkout.checkout")}),(t==null?void 0:t.env)==="local"&&e.jsx(N,{variant:"outlined-white",type:"button",onClick:y,className:"absolute top-4",children:a("checkout.fill_with_test_data")}),x&&e.jsx("form",{ref:f,action:(t==null?void 0:t.env)==="production"?"https://bib.eway2pay.com/fim/est3Dgate":"https://testsecurepay.eway2pay.com/fim/est3Dgate",method:"POST",className:"hidden",children:Object.entries(x).map(([s,v])=>e.jsx("input",{type:"text",name:s,value:v??"",readOnly:!0},s))}),e.jsxs("form",{onSubmit:g,className:"grid gap-10 md:gap-20 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{className:"space-y-3.5 md:space-y-7",children:[e.jsx(b,{as:"h4",children:a("checkout.contact_info")}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-1",children:[e.jsx(C,{label:a("checkout.form.labels.email"),name:"email",error:r.email,required:!0,children:e.jsx(_,{id:"email",type:"email",placeholder:a("checkout.form.placeholders.email"),value:i.email,onChange:s=>n("email",s.target.value)})}),e.jsx(C,{label:a("checkout.form.labels.phone"),name:"phone",error:r.phone,required:!0,children:e.jsx(_,{id:"phone",placeholder:a("checkout.form.placeholders.phone"),value:i.phone,onChange:s=>n("phone",s.target.value)})})]})]}),e.jsxs("div",{className:"space-y-3.5 md:space-y-7",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(b,{as:"h4",children:a("checkout.shipping_info")}),e.jsxs(ne,{children:[e.jsx(ce,{asChild:!0,children:e.jsxs("button",{type:"button",className:"text-primary flex items-baseline space-x-1 underline",children:[e.jsx("span",{className:"sr-only",children:a("shipping_information.title")}),e.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})]})}),e.jsxs(le,{children:[e.jsxs(de,{children:[e.jsx(me,{children:a("shipping_information.title")}),e.jsx(pe,{className:"flex items-center space-x-1"})]}),e.jsxs("ul",{className:"prose-sm list-decimal pl-6",children:[e.jsx("li",{children:a("shipping_information.paragraph1")}),e.jsx("li",{children:a("shipping_information.paragraph2")}),e.jsx("li",{children:a("shipping_information.paragraph3")}),e.jsx("li",{children:a("shipping_information.paragraph4")}),e.jsx("li",{children:a("shipping_information.paragraph5")})]}),e.jsxs("p",{className:"text-sm font-medium",children:[e.jsx("span",{className:"text-red-400",children:"*"}),a("shipping_information.description")]})]})]})]}),e.jsxs(b,{as:"p",className:"text-muted-foreground flex items-center gap-x-1 text-xs sm:text-xs",children:[e.jsx(M.span,{initial:{y:50},whileInView:{y:0},transition:{type:"spring",duration:.2},children:e.jsx("svg",{className:"size-4",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M8.9375 22.75C9.87403 22.7498 10.7819 23.0732 11.5074 23.6654C12.2329 24.2577 12.7314 25.0824 12.9187 26H24.375V9.75H6.5C5.63805 9.75 4.8114 10.0924 4.2019 10.7019C3.59241 11.3114 3.25 12.138 3.25 13V26H4.95625C5.14356 25.0824 5.64215 24.2577 6.36764 23.6654C7.09314 23.0732 8.00097 22.7498 8.9375 22.75ZM8.9375 30.875C8.00097 30.8752 7.09314 30.5518 6.36764 29.9596C5.64215 29.3673 5.14356 28.5426 4.95625 27.625H1.625V13C1.625 11.7071 2.13861 10.4671 3.05285 9.55285C3.96709 8.63861 5.20707 8.125 6.5 8.125H24.375C24.806 8.125 25.2193 8.29621 25.524 8.60095C25.8288 8.9057 26 9.31902 26 9.75V13H30.875L35.75 19.5V27.625H32.4188C32.2323 28.5434 31.734 29.369 31.0085 29.9621C30.2829 30.5551 29.3746 30.8791 28.4375 30.8791C27.5004 30.8791 26.5921 30.5551 25.8665 29.9621C25.141 29.369 24.6427 28.5434 24.4563 27.625H12.9187C12.7314 28.5426 12.2329 29.3673 11.5074 29.9596C10.7819 30.5518 9.87403 30.8752 8.9375 30.875ZM8.9375 24.375C8.29103 24.375 7.67105 24.6318 7.21393 25.0889C6.75681 25.546 6.5 26.166 6.5 26.8125C6.5 27.459 6.75681 28.079 7.21393 28.5361C7.67105 28.9932 8.29103 29.25 8.9375 29.25C9.58397 29.25 10.204 28.9932 10.6611 28.5361C11.1182 28.079 11.375 27.459 11.375 26.8125C11.375 26.166 11.1182 25.546 10.6611 25.0889C10.204 24.6318 9.58397 24.375 8.9375 24.375ZM28.4375 22.75C29.374 22.7498 30.2819 23.0732 31.0074 23.6654C31.7329 24.2577 32.2314 25.0824 32.4188 26H34.125V20.02L33.735 19.5H26V23.5625C26.6825 23.0588 27.5275 22.75 28.4375 22.75ZM28.4375 24.375C27.791 24.375 27.171 24.6318 26.7139 25.0889C26.2568 25.546 26 26.166 26 26.8125C26 27.459 26.2568 28.079 26.7139 28.5361C27.171 28.9932 27.791 29.25 28.4375 29.25C29.084 29.25 29.704 28.9932 30.1611 28.5361C30.6182 28.079 30.875 27.459 30.875 26.8125C30.875 26.166 30.6182 25.546 30.1611 25.0889C29.704 24.6318 29.084 24.375 28.4375 24.375ZM26 14.625V17.875H32.5L30.0625 14.625H26Z",fill:"black"})})}),e.jsxs(M.span,{initial:{y:50},whileInView:{y:0},transition:{type:"spring",duration:.3},children:[a("product.free_shipping_over")," 5,000rsd"]})]})]}),e.jsxs("div",{className:"space-y-7",children:[e.jsxs("div",{className:"grid gap-6 md:flex md:items-center",children:[e.jsx("div",{className:"w-full",children:e.jsx(C,{label:a("checkout.form.labels.first_name"),name:"first_name",error:r.first_name,required:!0,children:e.jsx(_,{id:"first_name",placeholder:a("checkout.form.placeholders.first_name"),value:i.first_name,onChange:s=>n("first_name",s.target.value)})})}),e.jsx("div",{className:"w-full",children:e.jsx(C,{label:a("checkout.form.labels.last_name"),name:"last_name",error:r.last_name,required:!0,children:e.jsx(_,{id:"last_name",placeholder:a("checkout.form.placeholders.last_name"),value:i.last_name,onChange:s=>n("last_name",s.target.value)})})})]}),e.jsx(C,{label:a("checkout.form.labels.address"),name:"address",error:r.address,required:!0,children:e.jsx(_,{id:"address",placeholder:a("checkout.form.placeholders.address"),value:i.address,onChange:s=>n("address",s.target.value)})}),e.jsxs("div",{className:"grid gap-7 md:flex md:items-center",children:[e.jsx("div",{className:"w-full",children:e.jsx(C,{label:a("checkout.form.labels.city"),name:"city",error:r.city,required:!0,children:e.jsx(_,{id:"city",placeholder:a("checkout.form.placeholders.city"),value:i.city,onChange:s=>n("city",s.target.value)})})}),e.jsx("div",{className:"w-full",children:e.jsx(C,{label:a("checkout.form.labels.postal_code"),name:"postal_code",error:r.postal_code,required:!0,children:e.jsx(_,{id:"postal_code",placeholder:a("checkout.form.placeholders.postal_code"),value:i.postal_code,onChange:s=>n("postal_code",s.target.value)})})})]}),e.jsx(C,{label:a("checkout.form.labels.note"),name:"note",error:r.note,children:e.jsx(ue,{id:"address",placeholder:a("checkout.form.placeholders.note"),value:i.note,onChange:s=>n("note",s.target.value)})}),e.jsx("div",{children:e.jsxs("div",{className:"relative space-x-2",children:[e.jsx(re,{id:"terms",value:i.terms,onChange:s=>n("terms",s.target.checked?1:0)}),e.jsxs(G,{htmlFor:"terms",className:"relative top-0.5 space-x-1 text-sm font-normal",children:[e.jsx("span",{className:"text-red-400",children:"*"}),e.jsx("span",{className:"inline-block",children:a("checkout.form.labels.terms")}),e.jsx("a",{href:route("page.terms.show"),target:"_blank",className:"text-primary underline",children:a("checkout.terms_and_conditions")})]}),(r==null?void 0:r.terms)&&e.jsx("div",{className:"absolute -bottom-5 left-2 text-xs text-red-500",children:r.terms})]})})]})]}),e.jsxs("div",{className:"space-y-3.5 md:space-y-7",children:[e.jsx(b,{as:"h4",children:a("checkout.payment_method")}),e.jsx(ee,{onValueChange:s=>n("payment_method",s),value:i.payment_method,className:"flex w-full flex-col items-center md:flex-row md:gap-7",children:j.map((s,v)=>e.jsx(N,{asChild:!0,variant:"outlined-white",className:"h-12 w-full justify-start px-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{value:s.id,id:`payment_method_${s.id}`}),e.jsx(G,{htmlFor:`payment_method_${s.id}`,className:"absolute inset-0 cursor-pointer opacity-0",children:e.jsx("span",{className:"sr-only",children:s.title})}),e.jsx("span",{children:s.title})]})},v))}),r.payment_method&&e.jsx("div",{className:"mt-2 text-sm text-red-500",children:r.payment_method})]})]}),e.jsxs("div",{className:"space-y-3.5 md:space-y-7",children:[e.jsx(b,{as:"h4",children:a("checkout.order_summary")}),e.jsx(oe,{className:"rounded-md border-none shadow-none",children:e.jsxs(ie,{className:"p-2 md:p-10",children:[e.jsx(ke,{cart:d}),e.jsx("div",{className:"mt-10",children:e.jsx(N,{type:"submit",className:"block h-12 w-full uppercase",disabled:p,children:a("checkout.actions.confirm")})}),e.jsxs("p",{className:"text-muted-foreground mt-2 px-2 text-xs",children:[e.jsx("span",{className:"text-red-400",children:"*"}),a("checkout.additional.tax_disclaimer")]})]})})]})]})]})]})]})};Me.layout=a=>e.jsx(he,{children:a});export{Me as default};
