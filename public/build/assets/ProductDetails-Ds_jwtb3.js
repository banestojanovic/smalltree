import{r as p,j as e,R as g,q as Ce,a as be}from"./app-DW12WSyT.js";import{a as J,f as L,g as W,P as w,c as X,e as Ae,b as Ne}from"./index-yW-AQ-hZ.js";import{a as ye,u as Ie}from"./index-DteXzaGz.js";import{u as Z,c as H,B as V}from"./button-CNOMmdm5.js";import{C as Re}from"./chevron-down-_31ELSjg.js";import{T as v}from"./typography-g_YZJ8iM.js";import{T as _e,a as we,A as Pe}from"./toggle-group-bZ5Pmc7b.js";import ke from"./PhotoSlider-B8JKfd88.js";import{u as Se}from"./useTranslation-CdgbAsY_.js";import{c as ee}from"./createLucideIcon-HwograPr.js";import"./navigation-f4W0nT7q.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var G="Collapsible",[Oe,se]=J(G),[Me,B]=Oe(G),oe=p.forwardRef((s,a)=>{const{__scopeCollapsible:o,open:n,defaultOpen:r,disabled:t,onOpenChange:i,...d}=s,[m=!1,x]=L({prop:n,defaultProp:r,onChange:i});return e.jsx(Me,{scope:o,disabled:t,contentId:W(),open:m,onOpenToggle:p.useCallback(()=>x(f=>!f),[x]),children:e.jsx(w.div,{"data-state":K(m),"data-disabled":t?"":void 0,...d,ref:a})})});oe.displayName=G;var ne="CollapsibleTrigger",te=p.forwardRef((s,a)=>{const{__scopeCollapsible:o,...n}=s,r=B(ne,o);return e.jsx(w.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":K(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...n,ref:a,onClick:X(s.onClick,r.onOpenToggle)})});te.displayName=ne;var F="CollapsibleContent",ae=p.forwardRef((s,a)=>{const{forceMount:o,...n}=s,r=B(F,s.__scopeCollapsible);return e.jsx(Ae,{present:o||r.open,children:({present:t})=>e.jsx(De,{...n,ref:a,present:t})})});ae.displayName=F;var De=p.forwardRef((s,a)=>{const{__scopeCollapsible:o,present:n,children:r,...t}=s,i=B(F,o),[d,m]=p.useState(n),x=p.useRef(null),f=Z(a,x),h=p.useRef(0),b=h.current,C=p.useRef(0),N=C.current,l=i.open||d,u=p.useRef(l),j=p.useRef(void 0);return p.useEffect(()=>{const c=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(c)},[]),Ne(()=>{const c=x.current;if(c){j.current=j.current||{transitionDuration:c.style.transitionDuration,animationName:c.style.animationName},c.style.transitionDuration="0s",c.style.animationName="none";const y=c.getBoundingClientRect();h.current=y.height,C.current=y.width,u.current||(c.style.transitionDuration=j.current.transitionDuration,c.style.animationName=j.current.animationName),m(n)}},[i.open,n]),e.jsx(w.div,{"data-state":K(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!l,...t,ref:f,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...s.style},children:l&&r})});function K(s){return s?"open":"closed"}var Ve=oe,$e=te,Le=ae,A="Accordion",He=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[U,Ge,Be]=ye(A),[S,cs]=J(A,[Be,se]),z=se(),re=g.forwardRef((s,a)=>{const{type:o,...n}=s,r=n,t=n;return e.jsx(U.Provider,{scope:s.__scopeAccordion,children:o==="multiple"?e.jsx(ze,{...t,ref:a}):e.jsx(Ue,{...r,ref:a})})});re.displayName=A;var[ie,Fe]=S(A),[le,Ke]=S(A,{collapsible:!1}),Ue=g.forwardRef((s,a)=>{const{value:o,defaultValue:n,onValueChange:r=()=>{},collapsible:t=!1,...i}=s,[d,m]=L({prop:o,defaultProp:n,onChange:r});return e.jsx(ie,{scope:s.__scopeAccordion,value:d?[d]:[],onItemOpen:m,onItemClose:g.useCallback(()=>t&&m(""),[t,m]),children:e.jsx(le,{scope:s.__scopeAccordion,collapsible:t,children:e.jsx(ce,{...i,ref:a})})})}),ze=g.forwardRef((s,a)=>{const{value:o,defaultValue:n,onValueChange:r=()=>{},...t}=s,[i=[],d]=L({prop:o,defaultProp:n,onChange:r}),m=g.useCallback(f=>d((h=[])=>[...h,f]),[d]),x=g.useCallback(f=>d((h=[])=>h.filter(b=>b!==f)),[d]);return e.jsx(ie,{scope:s.__scopeAccordion,value:i,onItemOpen:m,onItemClose:x,children:e.jsx(le,{scope:s.__scopeAccordion,collapsible:!0,children:e.jsx(ce,{...t,ref:a})})})}),[Qe,T]=S(A),ce=g.forwardRef((s,a)=>{const{__scopeAccordion:o,disabled:n,dir:r,orientation:t="vertical",...i}=s,d=g.useRef(null),m=Z(d,a),x=Ge(o),h=Ie(r)==="ltr",b=X(s.onKeyDown,C=>{var q;if(!He.includes(C.key))return;const N=C.target,l=x().filter(D=>{var Y;return!((Y=D.ref.current)!=null&&Y.disabled)}),u=l.findIndex(D=>D.ref.current===N),j=l.length;if(u===-1)return;C.preventDefault();let c=u;const y=0,E=j-1,O=()=>{c=u+1,c>E&&(c=y)},M=()=>{c=u-1,c<y&&(c=E)};switch(C.key){case"Home":c=y;break;case"End":c=E;break;case"ArrowRight":t==="horizontal"&&(h?O():M());break;case"ArrowDown":t==="vertical"&&O();break;case"ArrowLeft":t==="horizontal"&&(h?M():O());break;case"ArrowUp":t==="vertical"&&M();break}const je=c%j;(q=l[je].ref.current)==null||q.focus()});return e.jsx(Qe,{scope:o,disabled:n,direction:r,orientation:t,children:e.jsx(U.Slot,{scope:o,children:e.jsx(w.div,{...i,"data-orientation":t,ref:m,onKeyDown:n?void 0:b})})})}),k="AccordionItem",[qe,Q]=S(k),de=g.forwardRef((s,a)=>{const{__scopeAccordion:o,value:n,...r}=s,t=T(k,o),i=Fe(k,o),d=z(o),m=W(),x=n&&i.value.includes(n)||!1,f=t.disabled||s.disabled;return e.jsx(qe,{scope:o,open:x,disabled:f,triggerId:m,children:e.jsx(Ve,{"data-orientation":t.orientation,"data-state":ue(x),...d,...r,ref:a,disabled:f,open:x,onOpenChange:h=>{h?i.onItemOpen(n):i.onItemClose(n)}})})});de.displayName=k;var me="AccordionHeader",pe=g.forwardRef((s,a)=>{const{__scopeAccordion:o,...n}=s,r=T(A,o),t=Q(me,o);return e.jsx(w.h3,{"data-orientation":r.orientation,"data-state":ue(t.open),"data-disabled":t.disabled?"":void 0,...n,ref:a})});pe.displayName=me;var $="AccordionTrigger",xe=g.forwardRef((s,a)=>{const{__scopeAccordion:o,...n}=s,r=T(A,o),t=Q($,o),i=Ke($,o),d=z(o);return e.jsx(U.ItemSlot,{scope:o,children:e.jsx($e,{"aria-disabled":t.open&&!i.collapsible||void 0,"data-orientation":r.orientation,id:t.triggerId,...d,...n,ref:a})})});xe.displayName=$;var fe="AccordionContent",he=g.forwardRef((s,a)=>{const{__scopeAccordion:o,...n}=s,r=T(A,o),t=Q(fe,o),i=z(o);return e.jsx(Le,{role:"region","aria-labelledby":t.triggerId,"data-orientation":r.orientation,...i,...n,ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...s.style}})});he.displayName=fe;function ue(s){return s?"open":"closed"}var Ye=re,Je=de,We=pe,ve=xe,ge=he;const P=Ye,I=p.forwardRef(({className:s,...a},o)=>e.jsx(Je,{ref:o,className:H("border-b",s),...a}));I.displayName="AccordionItem";const R=p.forwardRef(({className:s,children:a,...o},n)=>e.jsx(We,{className:"flex",children:e.jsxs(ve,{ref:n,className:H("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",s),...o,children:[a,e.jsx(Re,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));R.displayName=ve.displayName;const _=p.forwardRef(({className:s,children:a,...o},n)=>e.jsx(ge,{ref:n,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...o,children:e.jsx("div",{className:H("pb-4 pt-0",s),children:a})}));_.displayName=ge.displayName;const ds=({product:s})=>{var m,x,f,h,b,C,N;const{t:a}=Se(),o=Ce().props.cart,[n,r]=p.useState(((h=(f=(x=(m=s==null?void 0:s.variations)==null?void 0:m[1])==null?void 0:x.variations)==null?void 0:f[0])==null?void 0:h.id.toString())??null),[t,i]=p.useState(1),d=(b=s==null?void 0:s.variations)==null?void 0:b.find(l=>{var u;return(u=l==null?void 0:l.variations)==null?void 0:u.some(j=>{var c;return((c=j==null?void 0:j.pivot)==null?void 0:c.variation_value_id)==n})});return e.jsx("section",{className:"container mt-5 sm:mt-10",children:e.jsxs("div",{className:"grid grid-cols-1 gap-3 lg:grid-cols-2",children:[e.jsx("div",{children:e.jsx(ke,{product:s})}),e.jsxs("div",{className:"",children:[e.jsx(v,{as:"h2",children:s.name}),e.jsx(v,{as:"p",className:"mt-5",children:s.description}),e.jsxs(v,{as:"h2",className:"mt-7 !text-3xl !font-bold",children:["$",(d==null?void 0:d.price)??s.price]}),e.jsxs(v,{as:"p",className:"mt-7",children:[a("enums.product.free_shipping_over")," $100"]}),(s==null?void 0:s.grouped_variations)&&e.jsx("div",{className:"mt-7",children:e.jsx(_e,{type:"single",className:"justify-start",value:n??void 0,onValueChange:l=>r(l),children:Object.keys((s==null?void 0:s.grouped_variations)??{}).map(l=>e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs(v,{as:"h4",children:[" ",l," "]}),e.jsx("div",{className:"flex gap-2",children:s==null?void 0:s.grouped_variations[l].map(u=>e.jsx(we,{variant:"default",value:u.id.toString(),"aria-label":"Toggle bold",children:u.value},u.id))})]},l))})}),e.jsxs("div",{className:"mt-7 flex items-center gap-x-5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>{i(l=>l>1?l-1:l)},children:e.jsx(Te,{})}),e.jsx("span",{className:"mx-3 text-2xl font-semibold",children:t}),e.jsx(V,{type:"button",variant:"outline",disabled:t>=((s==null?void 0:s.stock)??99),onClick:()=>{i(l=>l+1)},children:e.jsx(Ee,{})})]}),e.jsx(Pe,{product:s,productVariantId:n,quantity:t,disabled:((C=Object.keys((s==null?void 0:s.variations)??[]))==null?void 0:C.length)>0&&!n,variant:"default",className:"inline-flex w-full items-center justify-center"}),e.jsx(V,{asChild:o&&((o==null?void 0:o.products)??[]).length>0,disabled:!o||((o==null?void 0:o.products)??[]).length===0,className:"flex w-full",children:!o||((N=o==null?void 0:o.products)==null?void 0:N.length)===0?"Checkout":e.jsx(be,{href:route("checkout.show"),children:"Checkout"})})]}),e.jsxs("div",{className:"mt-7",children:[e.jsx(P,{type:"single",collapsible:!0,children:e.jsxs(I,{value:"item-1",children:[e.jsx(R,{children:e.jsx(v,{as:"h4",className:"mt-0",children:"Description"})}),e.jsx(_,{children:e.jsx(v,{as:"p",className:"mt-0",children:s.description})})]})}),e.jsx(P,{type:"single",collapsible:!0,children:e.jsxs(I,{value:"item-2",children:[e.jsx(R,{children:e.jsx(v,{as:"h4",className:"mt-0",children:"Features"})}),e.jsx(_,{children:e.jsx(v,{as:"p",className:"mt-0",children:s.description})})]})}),e.jsx(P,{type:"single",collapsible:!0,children:e.jsxs(I,{value:"item-3",children:[e.jsx(R,{children:e.jsx(v,{as:"h4",className:"mt-0",children:"Usage"})}),e.jsx(_,{children:e.jsx(v,{as:"p",className:"mt-0",children:s.description})})]})}),e.jsx(P,{type:"single",collapsible:!0,children:e.jsxs(I,{value:"item-4",children:[e.jsx(R,{children:e.jsx(v,{as:"h4",className:"mt-0",children:"Ingredients"})}),e.jsx(_,{children:e.jsx(v,{as:"p",className:"mt-0",children:s.description})})]})})]})]})]})})};export{ds as default};
