import{W as C,r as h,j as s}from"./app-Q253YIMy.js";import{C as g,a as i,D as R,b as w,c as v,d as S,S as D}from"./slider-B1Ut_Bhe.js";import{B as P}from"./badge-CR4fxmf5.js";import{B as u}from"./button-Ci-DNgYG.js";import{u as y}from"./useTranslation-CuHCN7gN.js";import"./index-DSlY0Ued.js";import"./index-CvGgvrxJ.js";import"./dialog-Bzs-Vw8H.js";import"./x-x-OzxC4E.js";import"./createLucideIcon-1jbUaAdr.js";import"./index-BMg-f5Fi.js";import"./index-CpX38UW8.js";import"./chevron-right-Cx2gLfzE.js";const W=({category:x,attributes:o,variations:t,query:a})=>{var p;const{t:d}=y(),{data:r,setData:c,get:j}=C({attributes:o.reduce((e,n)=>{var l;return e[n.slug]=((l=a.attributes)==null?void 0:l[n.slug])??null,e},{}),variations:t.reduce((e,n)=>{var l;return e[n.id]=((l=a.variations)==null?void 0:l[n.id])??null,e},{}),priceRange:a.priceRange??null}),f=e=>{c("priceRange",e)},N=()=>{j(route("categories.show",x.slug),{preserveScroll:!0,preserveState:!0})},m=h.useRef(r);return h.useEffect(()=>{JSON.stringify(m.current)!==JSON.stringify(r)&&(N(),m.current=r)},[r]),s.jsx("section",{className:"mt-10",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-7",children:[t.length>0&&t.map(e=>{var n;return s.jsx("div",{className:"",children:s.jsxs(g,{value:r.variations[e.id],onChange:l=>c("variations",{...r.variations,[e.id]:l}),placeholder:e.name,inputPlaceholder:e.name,className:"",children:[s.jsx(i,{value:null,children:d("category_show.filters.not_selected")}),(n=e==null?void 0:e.values)==null?void 0:n.map(l=>s.jsx(i,{value:l.id.toString(),children:l.value},l.id))]})},e.id)}),o.length>0&&o.map(e=>{var n;return s.jsx("div",{className:"",children:s.jsxs(g,{value:r.attributes[e.slug],onChange:l=>c("attributes",{...r.attributes,[e.slug]:l}),placeholder:e.name,inputPlaceholder:e.name,className:"",children:[s.jsx(i,{value:null,children:d("category_show.filters.not_selected")}),(n=e==null?void 0:e.values)==null?void 0:n.map(l=>s.jsx(i,{value:l.id.toString(),children:l.value},l.id))]})},e.id)}),s.jsxs(R,{children:[s.jsx(w,{asChild:!0,children:s.jsxs(u,{variant:"outline",children:["Price",s.jsx(v,{className:"opacity-50"})]})}),s.jsx(S,{className:"w-80",children:s.jsxs("div",{className:"p-3",children:[s.jsx("h2",{className:"py-2 text-lg font-semibold",children:"Price Range"}),s.jsx(u,{onClick:()=>c("priceRange",[]),children:"Clear"}),s.jsx("div",{className:"flex items-center justify-center",children:r.priceRange&&((p=r.priceRange)==null?void 0:p.length)&&s.jsxs(P,{variant:"outline",className:"text-lg",children:["$",r.priceRange[0]??0," - $",r.priceRange[1]??0]})}),s.jsx(D,{className:"mt-4",defaultValue:a.priceRange??[0,1e4],onValueCommit:f,max:1e4,min:0,step:10,"aria-label":"Price range"})]})})]})]})})})};export{W as default};
